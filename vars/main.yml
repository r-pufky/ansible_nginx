---
###############################################################################
# Default NGINX Package Dependencies
###############################################################################
# Default required packages for nginx install.

nginx_default_packages:
  - 'curl'
  - 'gnupg2'
  - 'ca-certificates'
  - 'dirmngr'
  - 'ufw'             # for stream setup
  - 'python3-passlib' # htpasswd autocreate

nginx_default_source_module_packages:
  - 'nginx-module-geoip'
  - 'nginx-module-xslt'
  - 'nginx-module-image-filter'
  - 'nginx-module-njs'

nginx_default_os_module_packages:
  - 'libnginx-mod-http-geoip'
  - 'libnginx-mod-http-xslt-filter'
  - 'libnginx-mod-http-image-filter'
  - 'libnginx-mod-stream'

nginx_default_os_load_modules:
  - '/usr/lib/nginx/modules/ngx_stream_module.so'

###############################################################################
# Default NGINX User Group
###############################################################################
# Default group settings if an nginx user is force created.

nginx_default_group:
  name: 'nginx'
  gid:  115

###############################################################################
# Default NGINX User Account
###############################################################################
# Default user settings if an nginx user is force created.
#
# Logins are disabled.

nginx_default_user:
  name:            'nginx'
  group:           'nginx'
  uid:             115
  shell:           '/usr/sbin/nologin'
  home:            '/nonexistent'
  comment:         'nginx user,,,'
  create_home:     false
  password:        '!'
  password_lock:   true
  update_password: 'always'
  expires:         -1
  system:          true
